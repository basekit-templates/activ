
// -----------------------------
//  Ecommerce Product List
// -----------------------------


// Keeps filter icon within main container
.ecom-list [role="main"] {
    position: relative;
}

// Ecom Product List + Ecom Featured Products
.ecomproductslist,
.ecomfeaturedproducts {

    // Product List
    &__product-list {
        @include flex-display;
        @include flex-wrap(wrap);
        @include justify-content(space-between);
    }

    // Product Item
    &__product-item {
        margin-bottom: 40px;
        width: 31%;


        @media #{$desktop-1024px} {
            width: 48%;
        }


        @media #{$mobile-650px} {
            width: 100%;
        }
    }

    // Image
    &__product-item-image {
        height: auto;
        line-height: auto;
    }


    &__image-link {
        height: initial!important;
        line-height: initial!important;
    }


    &__image {
        width: 100%;
    }

    // Product Content
    &__product-content {

        @include box-shadow(0px 0px 37px 15px rgba(0,0,0,0.07));

        background-color: $color__ecomproductslist-product-item--background;
        display: inline-block;
        margin: -30px 0 0 20px;
        max-width: 80%;
        padding: 15px 20px 12px;
    }

    // Title
    &__product-item-title,
    &__title-link {
        color: $color__blogpostlist-title--text;
        font-size: $font__h3--font-size * 1.1;
        line-height: $font__h3--line-height * 0.9;
        padding-bottom: 5px;
        a {
            &:hover {
                text-decoration: none;
            }
        }
    }

    // Price
    &__product-item-price {
        font-size: $font__p--font-size * 1.2;
        line-height: $font__p--line-height * 0.9;
    }


    &__pagination-list {
        margin-top: 15px;
        text-align: center;
    }


    &__pagination-item .button {
        background-color: transparent;
        color: $color__p--text;
        padding: 10px;
    }
}



// Product Search
.fieldset--search {


    .form-body {
        position: relative;
    }


    // Input and Button Full Width at Mobile
    .form-group {
        margin-bottom: 0;
        margin-right: 0;


        &:hover {
            background-color: transparent;
        }


        // Input Container
        &:first-child {

            width: 65%;

            @media #{$mobile-650px} {
                margin-right: 0;
            }
        }


        .label--search {
            display: none;
            visibility: hidden;
        }


        input {
            font-family: $font__h4--font-family;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border-radius: 0;
            font-size: 12px;
            font-weight: 500;
            height: 54px;
            padding: 0 12px;
            text-transform: uppercase;
        }


        // Button Container
        &:last-child {
            margin-right: 0;
            right: 0;
            top: 0;
        }
    }


    .button--clear {
        background: #B83838 image('/images/cancel-icon.png') no-repeat center;
        height: 54px;
        width: 55px;
        white-space: nowrap;
        text-indent: -99999px;


        &:hover {
            background-color: darken(#B83838, 10%);
        }
    }


    .ecomproductslist__button {
        color: $color__button--text;
        font-size: 12px;
        height: 54px;
        margin-right: 1px;
        padding: 10px 20px;


        @media #{$mobile-650px} {
            margin-top: -5px;
        }
    }
}


// Keep Search Inputs and Button inline at Mobile
.product-filters .fieldset--search .form-body {

    @media #{$mobile-650px} {
        @include flex-wrap(nowrap);
    }
}


// Keeps filter toggle icon in correct postioning
.filter-container {
    position: relative;
    margin: 0 auto;
    max-width: 1280px;
}


// Styling for if the clear filters button is present
.clear-filters {


    .product-filters {
        max-height: 100%;
        opacity: 1;
        visibility: visible;
    }


    .button--submit {
        display: none;
        visibility: hidden;
    }


    &.filters-open .product-filters {
        display: none;
        visibility: hidden;
    }


    .button--clear {
        height: 53px;
        position: relative;
        right: -2px;
        top: -3px;


        @media #{$mobile-650px} {
            top: -5px;
        }
    }


    .toggle-filter {
        top: 45px;


        &.active {
            top: 45px;
        }
    }


    .listing-header {
        display: block;
    }


    .listing-title {
        padding: 35px 30px 0;


        @media #{$mobile-650px}{
            padding-bottom: 20px;
        }
    }
}



// Bring Search and Filters Inline
// ------------------------------------------


// Form Container
form.ecomproductslist__form {

    @include flex-display;
    @include flex-direction(row);
    @include flex-wrap(nowrap);
    @include justify-content(flex-start);
    @include align-content (stretch);
    @include align-items (flex-start);

    padding: 20px 0 0 0;
    box-shadow: none;

    legend {
        font-size: 26px;
    }

    @media #{$tablet-860px} {
        display: block;
        padding: 20px 0 0 0;
    }


    // Search
    .fieldset--search {
        border: 0;
        margin-bottom: 35px;

        @include flex-order(0);
        @include flex(1 1 auto);
        @include align-self (auto);
    
        @media #{$tablet-860px} {
                display: block;
            }
        }


    .fieldset--filters {
        @include flex-order(1);
        @include flex(1 1 auto);
        @include align-self (auto);

        legend {
            margin-bottom: 0;
        }

        @media #{$tablet-860px} {
            display: block;
        }
    }
}


// Product Filters
.product-filters {
    background-color: $color__container--background;


    // Legend
    legend {
        color: black;
        margin-bottom: 30px;
    }


    // Labels
    .ecomproductslist__label {
        font-size: 11px;
    }


    .form-group {
        @include flex(1 1 auto);
    }


    // Filters
    .fieldset--filters {


        .form-group {

            @media #{$mobile-650px} {
                display: block;
                margin-right: 0;
                width: 100%;
            }


            &:last-child {
                margin-right: 0;
            }
        }

        select {
            padding-right: 35px;
            width: 100%;


            @media #{$mobile-650px} {
                padding-right: 0;
            }
        }
    }


    .listing-order {
        padding: 0 0 20px;
    }
}


// Make product filters visible
.filters-open .product-filters {
    left: 0;
    max-height: 100%;
    opacity: 1;
    transition: left 0.25s ease-out, opacity 0.25s ease-out;
    will-change: transition;


    @media #{$mobile-650px} {
        margin-bottom: 30px;
    }
}
    // Form Body
    // ------------------------------
    
    
    .fieldset--filters .form-body {

        @include flex-display;
        @include flex-direction(row);
        @include flex-wrap(wrap);
        @include justify-content(flex-start);
        @include align-content (stretch);
        @include align-items (flex-end);
    
        @media #{$mobile-650px} {
            // Hack for Mobile IE, needs fixed width
            width: 100px;
            min-width: 100%;
        }
    
    }



// Responsive Columns Widgets
// ------------------------------

.responsivecolumns {

    .ecomproductslist, 
    .ecomfeaturedproducts {
        .product-item {
            width: 100%;
        }
        .product-content {
            max-width: 100%;
            margin: 0;
            width: 100%;
        }
        .product-item-image {
            line-height: inherit;
        }
    }

    // 2 columns
    .columns-two-left,
    .columns-two-right {

    }

    // 3 columns 

    .columns-three-left,
    .columns-three-middle,
    .columns-three-right {

    }

    // 4 columns
    .columns-four-first,
    .columns-four-second,
    .columns-four-third,
    .columns-four-fourth {

    }

    // 3 & 4 columns 
    .columns-three-left,
    .columns-three-middle,
    .columns-three-right,
    .columns-four-first,
    .columns-four-second,
    .columns-four-third,
    .columns-four-fourth {
        
    }
    
}
